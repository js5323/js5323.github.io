<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[关于H5中的音频、视频自动播放]]></title>
    <url>%2F20190918%2FaudioAutoPlay%2F</url>
    <content type="text"><![CDATA[因为浏览器的限制，不支持音频自动播放，无论是设置属性autoplay或者通过js去控制，都无法自动播放 并且会抛出一个Promise的错误: Uncaught (in promise) DOMException 忧伤，原因是为了提高用户体验，必须要有用户交互才能触发播放：12345678910111213141516Chrome’s autoplay policies are simple: 1、Muted autoplay is always allowed. video标签设置muted，即默认对视频进行静音可以进行播放， 2、Autoplay with sound is allowed if: User has interacted with the domain (click, tap, etc.). On desktop, the user’s Media Engagement Index threshold has been crossed, meaning the user has previously play video with sound. On mobile, the user has added the site to his or her home screen. Top frames can delegate autoplay permission to their iframes to allow autoplay with sound. 解决方法1、可以在界面设计一个按钮，通过引导用户进行交互，手动开启播放 2、相比1，如果实在无法放置一个按钮进行交互，只能捕获用户触摸屏幕进行播放，或者在微信浏览器中，在jssdk的ready回调中执行播放才能真正播放，示例代码： 123456789const audio = xxx;const play = function () &#123; audio.play(); document.removeEventListener(&quot;touchstart&quot;, play, false);&#125;;document.addEventListener(&quot;WeixinJSBridgeReady&quot;, function () &#123; play();&#125;, false);document.addEventListener(&quot;touchstart&quot;, play, false);]]></content>
      <tags>
        <tag>H5</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[从字体文件抽离需要用的文字]]></title>
    <url>%2F20180829%2Fsfntly%2F</url>
    <content type="text"><![CDATA[中文字体TTF文件的大小实在是很大，压缩后还是很大，在页面中使用还是很影响性能，最终想办法是能否把只需要用的字体从文件中抽出来，找了一下，还真有相关的工具… 使用工具：sfnttoolsfnttool 是谷歌开源项目 sfntly 内置的工具，他的作用是从一个字体文件中提取指定的文字，导出的字体中将只包含你需要的文字。 以下是能用的jar包https://github.com/js5323/sfntly-builds 使用方式12345678910java -jar sfnttool.jar -h subset [-?|-h|-help] [-b] [-s string] fontfile outfile prototype font subsetter -?,-help print this help information -s,-string string to subset -b,-bench benchmark (run 10000 iterations) -h,-hints strip hints -w,-woff output woff format -e,-eot output eot format -x,-mtx enable microtype express compression for eot format 1java -jar sfnttool.jar -s &apos;这是一段测试文字&apos; msyh.ttf msyh_simplify.ttf 结果还是比较理想的，原本的字体文件有5.4m，需要的文字数量大概200个左右，导出后的文件大小200kb左右，大大的优化了文件大的问题]]></content>
      <categories>
        <category>工具</category>
      </categories>
      <tags>
        <tag>Web Font</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[字体工具：Font-Spider]]></title>
    <url>%2F20170906%2Ffont-spider%2F</url>
    <content type="text"><![CDATA[最近遇到一个项目需要自定义字体，如果文字多且改动频率高的话，切图是很不现实的，所以最好用WebFont来解决。 但是中文不比英文，英文才26个字母，相比字体太大是一个问题，无意间找到一个工具 字蛛 Font Spider，一个中文字体压缩器，具体的说明和使用官网很详细，我就不做搬运工了. 工具会自动识别html中的文字，然后把使用到的文字从原来的字体文件中抽出，针对一些需要使用字体并且文字使用不是很多h5，可以最大化的压缩字体文件]]></content>
      <categories>
        <category>工具</category>
      </categories>
      <tags>
        <tag>Web Font</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[写在开始]]></title>
    <url>%2F20170905%2F%E5%86%99%E5%9C%A8%E5%BC%80%E5%A7%8B%2F</url>
    <content type="text"><![CDATA[你好，欢迎来到我的个人技术博客。入坑前端多年了，但是没有写什么东西，大概也是因为懒吧！最近觉得还是折腾一下好，记录一些平时开发的时候遇到的坑吧！希望我能坚持吧。。。加油]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F20170905%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start新建文章1$ hexo new "My New Post" More info: Writing 本地服务预览1$ hexo server More info: Server 生成1$ hexo generate More info: Generating 发布1$ hexo deploy More info: Deployment 遇到的问题：无法生成标签、分类：12345678910原因是头部需要制定类型（type），不然不会自动生成：---title: 标签type: "tags"------title: 分类type: categories---]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>随笔</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
